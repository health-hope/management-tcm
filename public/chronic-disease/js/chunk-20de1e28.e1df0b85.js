(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20de1e28"],{5293:function(t,e,i){},6876:function(t,e,i){"use strict";var n=i("5293"),o=i.n(n);o.a},d28a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container wj"},[i("CustomHeader",{attrs:{source:t.image},on:{"update:source":function(e){t.image=e}}}),i("ul",{staticClass:"major grow_1"},[i("li",{staticClass:"title"},[i("span",{staticClass:"tit"},[t._v("食物名称")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.foodName,expression:"foodName",modifiers:{trim:!0}}],staticClass:"darkplaceholder",attrs:{placeholder:"如:清炒芥兰",type:"text"},domProps:{value:t.foodName},on:{input:function(e){e.target.composing||(t.foodName=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("li",[i("span",{staticClass:"tit"},[t._v("数量")]),i("FormInput",{attrs:{placeholder:"1",name:"count",type:"number",maxlength:999},model:{value:t.count,callback:function(e){t.count=t._n("string"===typeof e?e.trim():e)},expression:"count"}})],1),i("li",[i("span",{staticClass:"tit"},[t._v("单位")]),i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.unit,expression:"unit",modifiers:{trim:!0}}],attrs:{placeholder:"如:碗",type:"text"},domProps:{value:t.unit},on:{input:function(e){e.target.composing||(t.unit=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),i("li",[i("span",{staticClass:"tit"},[t._v("热量")]),i("div",{staticClass:"flex_c"},[i("FormInput",{attrs:{placeholder:"100",name:"kilocalorie",type:"number",maxlength:1e4},model:{value:t.kilocalorie,callback:function(e){t.kilocalorie=t._n("string"===typeof e?e.trim():e)},expression:"kilocalorie"}}),i("span",[t._v("大卡")])],1)])]),i("footer",{staticClass:"shrink_0 full_x flex_c just_c "},[i("button",{staticClass:"btn_active tap_events",class:{btn_disable:!t.isFormComplete},on:{click:t.handleSubmit}},[t._v("完成")])])],1)},o=[],a=(i("7bc1"),i("4453"),i("089b")),s=(i("d4d5"),i("0857"),i("972c")),r=i("cf45"),c=i("8715"),u=i("d137"),l=(i("13ea"),{components:{CustomHeader:u["a"],FormInput:c["a"]},data:function(){return{foodName:"",count_:"",unit:"",kilocalorie_:"",image:"",isPending:!1}},computed:{count:{get:function(){return this.count_},set:function(t){"NaN"!==Number(t).toString()&&(this.count_=t?parseInt(t):null)}},kilocalorie:{get:function(){return this.kilocalorie_},set:function(t){"NaN"!==Number(t).toString()&&(this.kilocalorie_=t?parseInt(t):null)}},isFormComplete:function(){var t=this.foodName,e=this.count,i=this.kilocalorie,n=this.unit;return!Object(r["j"])(t)&&!Object(r["j"])(e)&&!Object(r["j"])(i)&&!Object(r["j"])(n)}},created:function(){},methods:{handleSubmit:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,i,n,o,a,c,u,l,m,d,p=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.isFormComplete,i=this.isPending,n=this.foodName,o=this.count,a=this.kilocalorie,c=this.unit,u=this.image?this.image.split("base64,")[1]:"",!e||i){t.next=21;break}return this.isPending=!0,t.prev=4,t.next=7,Object(s["q"])(n,o,c,a,u);case 7:l=t.sent,m=l.customFood,m.extensionUnits=[{count:m.count,unit:m.unit,unitValue:1}],Object.assign(m,{name:m.foodName,recordFrom:"1",foodType:"2",mealType:this.$route.query.mealType,minCountHeat:m.kilocalorie,minCount:m.count,unitHeat:m.kilocalorie}),d=Object(r["g"])("session","selectedFoodList")||[],d.push(m),Object(r["m"])("session","selectedFoodList",d),this.$toast({message:"处理成功",duration:1500}),setTimeout(function(){p.$router.back()},1e3),t.next=20;break;case 18:t.prev=18,t.t0=t["catch"](4);case 20:this.isPending=!1;case 21:case"end":return t.stop()}},t,this,[[4,18]])}));function e(){return t.apply(this,arguments)}return e}()}}),m=l,d=(i("6876"),i("17cc")),p=Object(d["a"])(m,n,o,!1,null,"dd0ae088",null);e["default"]=p.exports}}]);