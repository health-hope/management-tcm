(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-43744a7c"],{"024c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAeCAYAAADQBxWhAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAOPSURBVEgNtZZNSFRRFMed55AR2pRgE27UVYGSXwNtIgiisAIXtoigjUS0CmbTB5IELXIZgRCRGyWIQEhokxVlllCog8KYfchY4ELIQSszcD76neec4c6bN6PD4IU3/3PO/Z9z3rn3vnPHU5JnzM7OVqyurrYlk8l2j8fTAFaDFeAiuACO4P60tbX1I3oyT6iMKU+GllLGx8d3ESRI0KuYdrtxHLZQaWnptebm5hcOu6ualXRiYuIQzCES1rp65DHyogOVlZWX6urq/uWhlVjm5OTkZBv6mJmQQDM8XTwB5qp8Pt9OsIbKTmN7wPNHY+B3YWlp6c309PRetblhutJUhe9xLBciwZaBYEtLSz9yws1ZbFNTU/tisdgd/DqVA/8lfm1gTG0m2klTexg2Kpzzer2nmpqavpjkfDKrdBn/Xh5dvZ5AIHDDzccm8EZyaGqFgLxcaELxo7L7xOgSWYbE5EVqNrTMX0s+C8hySnUEC6lQnQSprIdkoyITsyyRSNwU2Tks+Q4x2p8FDjOyh05SIbplWdeVT7wOkntVV7QwtqsCPoKY89AYvJwi3+oYk3NCIPYelviok2yRpMEwPjfkYsRhdSaxGd82S6XVBuG7ysUgS2zGScfXmFJphSp8+L9VLgY5QL8Mf58h26JUuqjGlZUVv8rFIJXuN/x/GrItSqULaqS1Za2/zhWC5j4S/4fTVyodUSPLYp5kNReEkUhEevMJdaLRvFVZUSodUgU8L73U0AsWo9HoRQopF0dif2tsbPzsDGLRDD5gDMmEkKV5O0lb1VMv3K18kt5T2USpNCkXsBpJ3CnNW/WtYjgc3rG+vj6If5X4EHee7epz87cbvtz4kAaUgGMvN0+6nak9F0qFa2trr5g/YnCu0Iv/GnpatK820eQAyAWMeFh0GbzIqPTSVGvbMBq/4iN7iKlbKzSmXyOfcUucTipkufFZoicEOG44iyi9dFg6jXz48h3Cqcd2ErQPjZBchmvijKTiRBAv/yJuU6XcsWUugXKZIvj04yN3qnmzZCW299SMgmNMbnzwAPY+UP625BzMf+UJ+v3+ev6K3mIVzkE2/6YcQ38m/040SFalOqEolcv1BEq3kubtI0kUnOd5R6JPYMaA38E2PMboWvGmSTOiFaDkS7xtSeX93BKzSnez9rSAYjal0u0GXfb44LZWqm8VCoXa4/H4Q/Q4z1m1bztyENMF/gcQxICtS3WRFwAAAABJRU5ErkJggg=="},"13ea":function(t,e,i){},"1c2c":function(t,e){t.exports="data:image/png;base64,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"},"295c":function(t,e,i){"use strict";var s=i("e5d5"),a=i.n(s);a.a},"4f7c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAqCAYAAADBNhlmAAAAAXNSR0IArs4c6QAAA6hJREFUWAntWT9oE1EY7yVBRQXBxXZyExwqVDu4CErVSpHWSV0EwZomTZNINhelLm7RkLZpGwXBRZ3UQbRaEHRwqAbaQXFzspNgMaLSNP6+eHd8993zpa/pJUsOjvf9e9/v9753L/fuxerYwFUoFC5YlnUOXbur1ep2XQrE/YR/CXEP4/H4fV2symepjDobyN2Ff1AXo/E9BclLGr/PFfJZNAaqHNwbJUeZB+0cGhSvy4igPa3eDIaaaY6IYf5uHl+pVHrHxsa+cJuUJyYm9obD4QVm9+RgdqVoVEG5IOqRI0QZI3MoWTGjb5EggYVRn1xbWzuD6ehFbCds21ifTROR/xeSLSP/QigUeozBzMFW5QAegpOTk/tXV1dzCOjhQU2US5FIJJ1IJD46mC7BfD5/FCO5h3uH42xFiwqWcV9MJpOvCb9GEFO6D1M612pyrCA/sLD6MeWfa6sY5G5LchjFPGxFrNRSJpP5xjpvmpjNZneDSA+wLgOrjyXeSZygD1i5XO4YhEfMSeLNdDqdFbZAVfDIAOCqADlLPzND3IjRvE2lUre4rRkyYRK2wBrC6g4dFsYCAj1LXfgDUW3MAk9O3EKY+05uxDOxyPVmyhKbuNEUrzgkMIqv+A1advRmt4RNHBjuChHMkNF20IPa6svDx/2hdlhNTU0dB9naCkaJM6Ojo68cXxBtPTzfZsEm1wUyXQ7RIIg5Oevh+QgSMaezkJl5U0Utnul+sMZsZmaGvkWOYPRvRkZGlnR0TWJVeVQVVMW5NgLEa+glCI5TS7rrFIJJrOjqqsYE8W6md2bYzhC2dTchF0xieT8uGxPEtG7hCaSu8+lieT8uGxPknZshtwk2WuV2BdsVbLQCjfZvP4NBVLDMkxaLxT1cxzv4j07X+WRfmRt9PdiUyzfFeB15tvx4nx7goPhumIdesW0VW+chrlwvVuaW2JTIRxC2dy4CBOxYYlyn7RW+tk4g2XVqdduterEyt8QmXN+Wf3p6ug9T8YCTApkbsVgsz22NysBJAucazwOc88ChGXIvH0Hy4Jj2OZpDbtQ/4QWaO6haCZX5LnzrUrE/3IWq0cnZMO5+0ek9zq9PCVuHckcNEleQiEjyky5K2A87DUDmWZdOff9zlQlT5VM9gx2o0CeUfxglp78QAr0Ig7AIUwWkJEiB9LmJzqchBnnSsEgYuk9b5TPIR4LRWbOzswNoh3AfhI+OSrbyGAP5N2Lp9OAD7ifRaPQZWu050F/zbnkW12Se/gAAAABJRU5ErkJggg=="},"5bd8":function(t,e,i){},"76f1":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"list_li flex tap_events",on:{click:t.handleClick}},[i("div",{staticClass:"list_img_box shrink_0 flex_c just_c",style:t.imgUrl?"backgroundImage:url("+t.imgUrl:""}),i("div",{staticClass:"list_detail grow_1 flex_c"},[i("div",{staticClass:"list_inner grow_1"},[i("p",{staticClass:"title",domProps:{innerHTML:t._s(t.name)}}),i("p",{staticClass:"desc",domProps:{innerHTML:t._s(t.desc)}})]),i("span",{staticClass:"list_heat shrink_0",domProps:{innerHTML:t._s(t.heat)}})])])},a=[],o={props:{name:String,imgUrl:String,desc:String,heat:String},methods:{handleClick:function(t){this.$emit("click",t)}}},n=o,r=(i("a9d9"),i("17cc")),c=Object(r["a"])(n,s,a,!1,null,"3a6a6eca",null);e["a"]=c.exports},8722:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container wj"},[s("header",[s("InputSearch",{on:{input:t.handleInputSearch},model:{value:t.criteria,callback:function(e){t.criteria=e},expression:"criteria"}})],1),0===t.list.length&&t.historyList.length>0&&!t.isUserInputed?s("div",{staticClass:"history_box"},[s("div",{staticClass:"history_title flex_c just_sb"},[s("span",[t._v("历史记录")]),s("img",{staticClass:"dustbin tap_events",attrs:{src:i("4f7c"),alt:""},on:{click:t.clearHistory}})]),s("ul",{staticClass:"history_list"},t._l(t.historyList,function(e){return s("li",{key:e,staticClass:"flex_c",on:{click:function(i){return t.handleHistoryListClick(e)}}},[t._v(t._s(e))])}),0)]):t._e(),t.list?s("ul",{staticClass:"list"},t._l(t.list,function(e,i){return s("list-slider",{key:i,attrs:{name:e.foodName,imgUrl:e.imageUrl,desc:e.minCount+e.unit,heat:e.minCountHeat+"大卡"},on:{click:function(e){return t.showFoodDetail(i)}}})}),1):t._e(),s("Popup",{staticClass:"food_detail full_x",attrs:{position:"bottom"},model:{value:t.showFoodDetailPopue,callback:function(e){t.showFoodDetailPopue=e},expression:"showFoodDetailPopue"}},[s("Close",{on:{close:function(e){t.showFoodDetailPopue=!1}}},[t.showFoodDetailPopue?s("Detail",{on:{addSelectedList:t.addSelectedList}},[s("div",{directives:[{name:"show",rawName:"v-show",value:1===t.activeFoodDetail.foodType,expression:"activeFoodDetail.foodType===1"}],staticClass:"tabber tap_events",attrs:{slot:"tabber"},on:{click:function(e){return t.$router.push({name:"foodDetail",query:{id:t.activeFoodDetail.foodId}})}},slot:"tabber"},[s("img",{staticClass:"icon_detail",attrs:{src:i("2113"),alt:""}}),s("span",[t._v("详情")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.activeFoodDetail.isMetrology,expression:"activeFoodDetail.isMetrology==='0'"}],staticClass:"tabber tap_events",attrs:{slot:"tabber"},on:{click:function(e){return t.$router.push({name:"foodastimate",params:{foodId:t.activeFoodDetail.foodId,metrologyTag:t.activeFoodDetail.metrologyTag}})}},slot:"tabber"},[s("img",{staticClass:"icon_detail",attrs:{src:i("1c2c"),alt:"",srcset:""}}),s("span",[t._v("估算")])])]):t._e()],1)],1)],1)},a=[],o=(i("4453"),i("089b")),n=(i("970d"),i("3b95")),r=i.n(n),c=i("972c"),l=i("cf45"),d=i("bc28"),u=i("76f1"),A=i("49c0"),h=i("f6c8"),p=(i("13ea"),{components:{InputSearch:d["a"],ListSlider:u["a"],Popup:r.a,Close:A["a"],Detail:h["a"]},computed:{activeFoodDetail:function(){var t=this.$store.state.plan.activeFoodDetail,e=t.isMetrology,i=t.metrologyTag,s=t.foodId,a=t.foodType;return{isMetrology:e,metrologyTag:i,foodId:s,foodType:a}}},data:function(){return{criteria:"",list:[],pageInfo:{pageNum:1,pageSize:10},isPending:!1,showFoodDetailPopue:!1,historyList:[],isUserInputed:!1}},created:function(){this.getHistory()},methods:{getHistory:function(){var t=window.localStorage.getItem("foodSearchHistory");Object(l["j"])(t)||(this.historyList=JSON.parse(t))},handleHistoryListClick:function(t){this.criteria=t,this.handleInputSearch(t,!0)},clearHistory:function(){this.historyList=[],window.localStorage.setItem("foodSearchHistory",JSON.stringify(this.historyList))},handleInputSearch:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e,i){var s,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(s=this.pageInfo,!Object(l["j"])(e)){t.next=3;break}return t.abrupt("return");case 3:return i&&this.$loading.show(),t.prev=4,t.next=7,Object(c["u"])(e,s);case 7:a=t.sent,console.log(a.foodList),this.list=a.foodList,t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](4);case 14:i&&this.$loading.hide(),this.isUserInputed=!0;case 16:case"end":return t.stop()}},t,this,[[4,12]])}));function e(e,i){return t.apply(this,arguments)}return e}(),showFoodDetail:function(t){var e=this,i=this.list[t];if(i.extensionUnits instanceof Array&&0===i.extensionUnits.length||!i.extensionUnits){var s=i.unit.indexOf("ml")>=0?"小":"大";i.extensionUnits=[{unit:i.unit,unitSize:s,unitValue:1}]}i.foodType=1,i.name=i.foodName,this.$store.commit("plan/COVER_ACTIVE_FOOOD_DETAIL",i),this.$nextTick(function(){e.showFoodDetailPopue=!0})},addSelectedList:function(t){var e=this.$store.state.plan.activeFoodDetail,i=window.sessionStorage.getItem("selectedFoodList")?JSON.parse(window.sessionStorage.getItem("selectedFoodList")):[];i.push(Object.assign(e,t)),window.sessionStorage.setItem("selectedFoodList",JSON.stringify(i));var s=window.localStorage.getItem("foodSearchHistory"),a=e.foodName;s=Object(l["j"])(s)?[]:JSON.parse(s),-1===s.indexOf(a)&&(s.length<5?s.unshift(a):(s.unshift(a),s.pop())),window.localStorage.setItem("foodSearchHistory",JSON.stringify(s)),this.$router.back()}}}),f=p,g=(i("295c"),i("17cc")),v=Object(g["a"])(f,s,a,!1,null,"33db3a50",null);e["default"]=v.exports},a0bf:function(t,e,i){"use strict";var s=i("cdf0"),a=i.n(s);a.a},a9d9:function(t,e,i){"use strict";var s=i("5bd8"),a=i.n(s);a.a},bc28:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"model_inpt flex_c "},[s("img",{staticClass:"icon_search shrink_0",attrs:{src:i("024c"),alt:""}}),s("input",{staticClass:"grow_1",attrs:{type:t.type,placeholder:t.placeholder},domProps:{value:t.value},on:{input:t.handleInput}})])},a=[],o={props:{type:{type:String,default:"text"},value:String,placeholder:{type:String,default:"请输入食物名称"}},methods:{handleInput:function(t){this.$emit("input",t.target.value)}}},n=o,r=(i("a0bf"),i("17cc")),c=Object(r["a"])(n,s,a,!1,null,"3a3ff651",null);e["a"]=c.exports},cdf0:function(t,e,i){},e5d5:function(t,e,i){}}]);